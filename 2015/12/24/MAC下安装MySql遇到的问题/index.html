<!doctype html>
<html class="theme-next   use-motion ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.4.5.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="MAC,MySql," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.4.5.2" />






<meta name="description" content="第一次在mac上安装mysql，首先从官网上下了最新版的mysql，下载的是dmg的，下载完成后直接根据提示下一步下一步就完成安装了。在最后安装成功后有个弹框：大致意思是帮我设置了一个临时的密码zYRlG3Dw6h=d（随机生成的），如果要修改可以去mysql手册查询重置方法。之后我设置了环境变量：在命令行输入   vim ~/.bash_profile ，在打开的.bash_profile里面输">
<meta property="og:type" content="article">
<meta property="og:title" content="MAC下安装MySql遇到的问题">
<meta property="og:url" content="http://yoursite.com/2015/12/24/MAC下安装MySql遇到的问题/index.html">
<meta property="og:site_name" content="feisong">
<meta property="og:description" content="第一次在mac上安装mysql，首先从官网上下了最新版的mysql，下载的是dmg的，下载完成后直接根据提示下一步下一步就完成安装了。在最后安装成功后有个弹框：大致意思是帮我设置了一个临时的密码zYRlG3Dw6h=d（随机生成的），如果要修改可以去mysql手册查询重置方法。之后我设置了环境变量：在命令行输入   vim ~/.bash_profile ，在打开的.bash_profile里面输">
<meta property="og:image" content="http://img.blog.csdn.net/20151207200337702">
<meta property="og:image" content="http://img.blog.csdn.net/20151207202018644">
<meta property="og:image" content="http://img.blog.csdn.net/20151207202622016">
<meta property="og:image" content="http://img.blog.csdn.net/20151207205508233">
<meta property="og:updated_time" content="2015-12-24T13:23:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MAC下安装MySql遇到的问题">
<meta name="twitter:description" content="第一次在mac上安装mysql，首先从官网上下了最新版的mysql，下载的是dmg的，下载完成后直接根据提示下一步下一步就完成安装了。在最后安装成功后有个弹框：大致意思是帮我设置了一个临时的密码zYRlG3Dw6h=d（随机生成的），如果要修改可以去mysql手册查询重置方法。之后我设置了环境变量：在命令行输入   vim ~/.bash_profile ，在打开的.bash_profile里面输">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: 'Mist',
    sidebar: 'post',
    motion: true
  };
</script>

  <title> MAC下安装MySql遇到的问题 | feisong </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?293542e04e366f2cb2cc25c27e1cd71f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <div class="container one-column page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta custom-logo">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">feisong</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-guestbook">
          <a href="/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-question-circle fa-fw"></i> <br />
            
            留言
          </a>
        </li>
      

      
      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                MAC下安装MySql遇到的问题
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            发表于
            <time itemprop="dateCreated" datetime="2015-12-24T21:20:36+08:00" content="2015-12-24">
              2015-12-24
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2015/12/24/MAC下安装MySql遇到的问题/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2015/12/24/MAC下安装MySql遇到的问题/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><p>第一次在mac上安装mysql，首先从<a href="http://dev.mysql.com/downloads/mysql/" target="_blank" rel="external">官网</a>上下了最新版的mysql，下载的是dmg的<img src="http://img.blog.csdn.net/20151207200337702" alt="这里写图片描述">，下载完成后直接根据提示下一步下一步就完成安装了。在最后安装成功后有个弹框：大致意思是帮我设置了一个临时的密码zYRlG3Dw6h=d（随机生成的），如果要修改可以去mysql手册查询重置方法。<br>之后我设置了环境变量：<br>在命令行输入   vim ~/.bash_profile ，在打开的.bash_profile里面输入了<br>alias mysql=’/usr/local/mysql/bin/mysql’<br>alias mysqladmin=’/usr/local/mysql/bin/mysqladmin’<br>alias ls=’ls -G’<br>保存退出。完成设置后我准备登录mysql了。<br>我本以为记住这密码就可以登录了，之后再在里面修改即可。<br>于是打开命令行输入mysql -u root -p ,再根据提示输入上面密码，然后就是各种错误提示：<br>（1）Can’t connect to local MySQL server through socket ‘/tmp/mysql.sock’ (2)。<br>（2）ERROR 1045 (28000): Access denied for user ‘fs’@’localhost’ (using password: NO)。<br>之后我又通过图形化窗口连接数据库，输入密码后提示我：密码已过期。<br><a id="more"></a><br>于是乎在网上找各种解决方法，各种尝试，按网上的步骤重置密码，都没有成功，最后结合网上的步骤和mysql帮助手册才成功重置密码，在此记录一下。<br><strong>解决步骤</strong>：<br>（1）首先关闭mysql服务。 在苹果-&gt;系统偏好设置-&gt;最下边点mysql 在弹出页面中 关闭mysql服务（这一步尤为重要，我前几次尝试就是没先执行这一步 才一直无法按后面步骤重启mysql）。<img src="http://img.blog.csdn.net/20151207202018644" alt="停止mysql服务"><br>（2）在命令行输入 cd /usr/local/mysql/bin/定位到bin目录下，再输入sudo su切换到超级管理员的身份。再输入<br>./mysqld_safe –skip-grant-tables &amp; 命令禁止mysql密码验证的功能。<img src="http://img.blog.csdn.net/20151207202622016" alt="禁止密码验证"><br>（3）新开启一个命令窗口，在命令行输入mysql后，可以直接进入mysql了。这是需要重置密码。<br>       <1>先尝试输入：ALTER USER ‘root’@’localhost’ IDENTIFIED BY ‘123’，如果提示Query OK则表明密码成功修改为123。如果提示这个错误You are using MySQL as an anonymous user and anonymous users are not allowed to change passwords。则尝试输入：UPDATE mysql.user SET authentication_string = PASSWORD(‘123’) WHERE User = ‘root’ AND Host = ‘localhost’;（后面一般都会成功）。<br>       <2>再输入FLUSH PRIVILEGES;之后输入exit退出mysql后，就可以用 你设置的密码登录了。<br>下面是我重置密码时走的弯路：我按照官网<a href="http://dev.mysql.com/doc/refman/5.7/en/resetting-permissions.html" target="_blank" rel="external">使用手册</a>中的<strong>Resetting the Root Password: Unix and Unix-Like Systems</strong>这个目录下的步骤一步一步的来，在输入<strong>ALTER USER ‘root’@’localhost’ IDENTIFIED BY ‘123’;</strong>后始终报这个错<br>ERROR 1131 (42000): You are using MySQL as an anonymous user and anonymous users are not allowed to change passwords。我网上查了都没有一个很好地解释。最后我看到后面有这么一句：If the ALTER USER statement fails to reset the password, try repeating the procedure using the following statements to modify the user table directly：我抱着试试的态度将其对应的语句（就是上面update语句和flush命令）输入后提示我Query OK，此时我仿佛看到了希望，之后立刻退出mysql，用root和123登录，果然成功进入mysql。<img src="http://img.blog.csdn.net/20151207205508233" alt="最后的尝试"></2></1></p>
</span>
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/MAC/" rel="tag">#MAC</a>
          
            <a href="/tags/MySql/" rel="tag">#MySql</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/12/21/GCD编程中串行 并行 同步 异步的执行顺序/" rel="next" title="GCD编程中串行 并行 同步 异步的执行顺序">
                <i class="fa fa-chevron-left"></i> GCD编程中串行 并行 同步 异步的执行顺序
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/12/24/iOS开发中copy和retain的区别/" rel="prev" title="iOS开发中copy和retain的区别">
                iOS开发中copy和retain的区别 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


        </div>

        


        
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2015/12/24/MAC下安装MySql遇到的问题/"
           data-title="MAC下安装MySql遇到的问题" data-url="http://yoursite.com/2015/12/24/MAC下安装MySql遇到的问题/">
      </div>
    
  </div>


      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="/images/fs.jpg" alt="feisong" itemprop="image"/>
          <p class="site-author-name" itemprop="name">feisong</p>
        </div>
        <p class="site-description motion-element" itemprop="description">ant on the way</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">4</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">11</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/feisong" target="_blank">
                  
                    <i class="fa fa-globe"></i> github
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/2451355424/profile?topnav=1&wvr=6&is_all=1" target="_blank">
                  
                    <i class="fa fa-globe"></i> weibo
                  
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://www.jianshu.com/users/fd5245a61aea/timeline" target="_blank">
                  
                    <i class="fa fa-globe"></i> 简书
                  
                </a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator">
            <i class="fa fa-angle-double-up"></i>
          </div>
          <div class="post-toc">
            
              
            
            
              <p class="post-toc-empty">此文章未包含目录</p>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator">
            <i class="fa fa-angle-double-down"></i>
          </div>
        </section>
      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">feisong</span>
</div>






      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  

  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"feisong"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     


    
  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.5.2"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.5.2"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
<script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="/js/motion.js?v=0.4.5.2" id="motion.global"></script>


  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.5.2" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 1 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    motionMiddleWares.sidebar = function () {
      var $tocContent = $('.post-toc-content');
      if (CONFIG.sidebar === 'post') {
        if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
          displaySidebar();
        }
      }
    };
  });
</script>



  <script type="text/javascript" src="/js/bootstrap.js"></script>

  
  

  
  

</body>
</html>
