<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>MAC下安装MySql遇到的问题 | feisong</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="第一次在mac上安装mysql，首先从官网上下了最新版的mysql，下载的是dmg的，下载完成后直接根据提示下一步下一步就完成安装了。在最后安装成功后有个弹框：大致意思是帮我设置了一个临时的密码zYRlG3Dw6h=d（随机生成的），如果要修改可以去mysql手册查询重置方法。之后我设置了环境变量：在命令行输入   vim ~/.bash_profile ，在打开的.bash_profile里面输">
<meta property="og:type" content="article">
<meta property="og:title" content="MAC下安装MySql遇到的问题">
<meta property="og:url" content="http://yoursite.com/2015/12/24/MAC下安装MySql遇到的问题/index.html">
<meta property="og:site_name" content="feisong">
<meta property="og:description" content="第一次在mac上安装mysql，首先从官网上下了最新版的mysql，下载的是dmg的，下载完成后直接根据提示下一步下一步就完成安装了。在最后安装成功后有个弹框：大致意思是帮我设置了一个临时的密码zYRlG3Dw6h=d（随机生成的），如果要修改可以去mysql手册查询重置方法。之后我设置了环境变量：在命令行输入   vim ~/.bash_profile ，在打开的.bash_profile里面输">
<meta property="og:image" content="http://img.blog.csdn.net/20151207200337702">
<meta property="og:image" content="http://img.blog.csdn.net/20151207202018644">
<meta property="og:image" content="http://img.blog.csdn.net/20151207202622016">
<meta property="og:image" content="http://img.blog.csdn.net/20151207205508233">
<meta property="og:updated_time" content="2015-12-24T13:23:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MAC下安装MySql遇到的问题">
<meta name="twitter:description" content="第一次在mac上安装mysql，首先从官网上下了最新版的mysql，下载的是dmg的，下载完成后直接根据提示下一步下一步就完成安装了。在最后安装成功后有个弹框：大致意思是帮我设置了一个临时的密码zYRlG3Dw6h=d（随机生成的），如果要修改可以去mysql手册查询重置方法。之后我设置了环境变量：在命令行输入   vim ~/.bash_profile ，在打开的.bash_profile里面输">
  
    <link rel="alternative" href="/atom.xml" title="feisong" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">feisong</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-MAC下安装MySql遇到的问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/24/MAC下安装MySql遇到的问题/" class="article-date">
  <time datetime="2015-12-24T13:20:36.000Z" itemprop="datePublished">2015-12-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      MAC下安装MySql遇到的问题
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>第一次在mac上安装mysql，首先从<a href="http://dev.mysql.com/downloads/mysql/" target="_blank" rel="external">官网</a>上下了最新版的mysql，下载的是dmg的<img src="http://img.blog.csdn.net/20151207200337702" alt="这里写图片描述">，下载完成后直接根据提示下一步下一步就完成安装了。在最后安装成功后有个弹框：大致意思是帮我设置了一个临时的密码zYRlG3Dw6h=d（随机生成的），如果要修改可以去mysql手册查询重置方法。<br>之后我设置了环境变量：<br>在命令行输入   vim ~/.bash_profile ，在打开的.bash_profile里面输入了<br>alias mysql=’/usr/local/mysql/bin/mysql’<br>alias mysqladmin=’/usr/local/mysql/bin/mysqladmin’<br>alias ls=’ls -G’<br>保存退出。完成设置后我准备登录mysql了。<br>我本以为记住这密码就可以登录了，之后再在里面修改即可。<br>于是打开命令行输入mysql -u root -p ,再根据提示输入上面密码，然后就是各种错误提示：<br>（1）Can’t connect to local MySQL server through socket ‘/tmp/mysql.sock’ (2)。<br>（2）ERROR 1045 (28000): Access denied for user ‘fs’@’localhost’ (using password: NO)。<br>之后我又通过图形化窗口连接数据库，输入密码后提示我：密码已过期。<br><a id="more"></a><br>于是乎在网上找各种解决方法，各种尝试，按网上的步骤重置密码，都没有成功，最后结合网上的步骤和mysql帮助手册才成功重置密码，在此记录一下。<br><strong>解决步骤</strong>：<br>（1）首先关闭mysql服务。 在苹果-&gt;系统偏好设置-&gt;最下边点mysql 在弹出页面中 关闭mysql服务（这一步尤为重要，我前几次尝试就是没先执行这一步 才一直无法按后面步骤重启mysql）。<img src="http://img.blog.csdn.net/20151207202018644" alt="停止mysql服务"><br>（2）在命令行输入 cd /usr/local/mysql/bin/定位到bin目录下，再输入sudo su切换到超级管理员的身份。再输入<br>./mysqld_safe –skip-grant-tables &amp; 命令禁止mysql密码验证的功能。<img src="http://img.blog.csdn.net/20151207202622016" alt="禁止密码验证"><br>（3）新开启一个命令窗口，在命令行输入mysql后，可以直接进入mysql了。这是需要重置密码。<br>       <1>先尝试输入：ALTER USER ‘root’@’localhost’ IDENTIFIED BY ‘123’，如果提示Query OK则表明密码成功修改为123。如果提示这个错误You are using MySQL as an anonymous user and anonymous users are not allowed to change passwords。则尝试输入：UPDATE mysql.user SET authentication_string = PASSWORD(‘123’) WHERE User = ‘root’ AND Host = ‘localhost’;（后面一般都会成功）。<br>       <2>再输入FLUSH PRIVILEGES;之后输入exit退出mysql后，就可以用 你设置的密码登录了。<br>下面是我重置密码时走的弯路：我按照官网<a href="http://dev.mysql.com/doc/refman/5.7/en/resetting-permissions.html" target="_blank" rel="external">使用手册</a>中的<strong>Resetting the Root Password: Unix and Unix-Like Systems</strong>这个目录下的步骤一步一步的来，在输入<strong>ALTER USER ‘root’@’localhost’ IDENTIFIED BY ‘123’;</strong>后始终报这个错<br>ERROR 1131 (42000): You are using MySQL as an anonymous user and anonymous users are not allowed to change passwords。我网上查了都没有一个很好地解释。最后我看到后面有这么一句：If the ALTER USER statement fails to reset the password, try repeating the procedure using the following statements to modify the user table directly：我抱着试试的态度将其对应的语句（就是上面update语句和flush命令）输入后提示我Query OK，此时我仿佛看到了希望，之后立刻退出mysql，用root和123登录，果然成功进入mysql。<img src="http://img.blog.csdn.net/20151207205508233" alt="最后的尝试"></2></1></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/24/MAC下安装MySql遇到的问题/" data-id="cij5n5i4l00080ola4wgfyrk6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MAC/">MAC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySql/">MySql</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/12/24/iOS开发中copy和retain的区别/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          iOS开发中copy和retain的区别
        
      </div>
    </a>
  
  
    <a href="/2015/12/21/GCD编程中串行 并行 同步 异步的执行顺序/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">GCD编程中串行 并行 同步 异步的执行顺序</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/GCD/">GCD</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MAC/">MAC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySql/">MySql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/copy/">copy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/retain/">retain</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/串行/">串行</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/主队列/">主队列</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/全局队列/">全局队列</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/同步/">同步</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/并行/">并行</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/异步/">异步</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/GCD/" style="font-size: 20px;">GCD</a> <a href="/tags/MAC/" style="font-size: 10px;">MAC</a> <a href="/tags/MySql/" style="font-size: 10px;">MySql</a> <a href="/tags/copy/" style="font-size: 10px;">copy</a> <a href="/tags/retain/" style="font-size: 10px;">retain</a> <a href="/tags/串行/" style="font-size: 10px;">串行</a> <a href="/tags/主队列/" style="font-size: 10px;">主队列</a> <a href="/tags/全局队列/" style="font-size: 10px;">全局队列</a> <a href="/tags/同步/" style="font-size: 10px;">同步</a> <a href="/tags/并行/" style="font-size: 10px;">并行</a> <a href="/tags/异步/" style="font-size: 10px;">异步</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/12/24/iOS开发中copy和retain的区别/">iOS开发中copy和retain的区别</a>
          </li>
        
          <li>
            <a href="/2015/12/24/MAC下安装MySql遇到的问题/">MAC下安装MySql遇到的问题</a>
          </li>
        
          <li>
            <a href="/2015/12/21/GCD编程中串行 并行 同步 异步的执行顺序/">GCD编程中串行 并行 同步 异步的执行顺序</a>
          </li>
        
          <li>
            <a href="/2015/12/21/GCD主队列和全局队列/">GCD主队列和全局队列</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 feisong<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>